# WSPR-ease Zephyr Configuration
# Target: ESP32-S3

# Basic kernel settings
CONFIG_MAIN_STACK_SIZE=8192
CONFIG_HEAP_MEM_POOL_SIZE=131072

# C++ support
CONFIG_CPP=y
CONFIG_STD_CPP17=y
CONFIG_GLIBCXX_LIBCPP=y

# Logging
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3

# Console/Shell (USB serial)
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_SHELL=y
CONFIG_REBOOT=y

# GPIO for status LEDs and FPGA control
CONFIG_GPIO=y

# SPI for FPGA communication
CONFIG_SPI=y

# Wi-Fi
CONFIG_WIFI=y
CONFIG_WIFI_ESP32=y

# Networking
CONFIG_NETWORKING=y
CONFIG_NET_IPV4=y
CONFIG_NET_TCP=y
CONFIG_NET_UDP=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_CONNECTION_MANAGER=y

# DHCP client (for STA mode)
CONFIG_NET_DHCPV4=y

# DHCP server (for AP mode)
CONFIG_NET_DHCPV4_SERVER=y

# DNS client
CONFIG_DNS_RESOLVER=y

# Network buffers
CONFIG_NET_PKT_RX_COUNT=24
CONFIG_NET_PKT_TX_COUNT=24
CONFIG_NET_BUF_RX_COUNT=48
CONFIG_NET_BUF_TX_COUNT=48
CONFIG_NET_MAX_CONTEXTS=12

# NVS for storing WiFi credentials
CONFIG_NVS=y
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y

# Settings subsystem for persistent config
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

# Increase stack sizes for network threads
CONFIG_NET_TX_STACK_SIZE=2048
CONFIG_NET_RX_STACK_SIZE=2048

# Floating point support for GNSS coordinates
CONFIG_FPU=y

# WiFi AP mode support
CONFIG_NET_CONFIG_SETTINGS=y
CONFIG_NET_CONFIG_MY_IPV4_ADDR="192.168.4.1"
CONFIG_NET_CONFIG_MY_IPV4_NETMASK="255.255.255.0"

# WSPR-ease WiFi Configuration
# Set these to connect to your WiFi network as a client
# Leave WSPR_WIFI_SSID empty to start in AP mode
CONFIG_WSPR_WIFI_SSID="Starview"
CONFIG_WSPR_WIFI_PASSWORD="8784.brd3.14"

# AP mode settings (used when client mode fails or is not configured)
CONFIG_WSPR_AP_SSID="WSPR-ease"
CONFIG_WSPR_AP_PASSWORD="wspradmin"
